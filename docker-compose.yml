version: "3"
services:
  ba-identity:
    build: ./ba-identity
    ports:
      - "5011:8080"
    volumes:
      - /C/Users/Vadim/Documents/db:/usr/db
  ba-api:
    build: ./ba-api
    ports:
      - "5010:8080"
    volumes:
      - /C/Users/Vadim/Documents/db:/usr/db
  ba-web:
    build:
      context: ./ba-web
      args:
        - REACT_APP_IDENTITY_URL=http://budgets-app:5011
        - REACT_APP_BASE_URL=http://budgets-app:5010/graphql
    ports:
      - "5012:80"
